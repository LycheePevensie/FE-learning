<!DOCTYPE>
<html>
<head>
    <meta charset="utf-8">
    <title>IFE JavaScript Task 2-18</title>
    <style>
        .num{
            float:left;
            margin: 20px 10px;
            width:50px;
            height:50px;
            font-size: 20px;
            line-height: 50px;
            text-align:center;
            color:#dddddd;
            background-color: #16324a;
        }
    </style>
</head>
<body>
    <label><input id="text-input" type="text"></label>
    <button id="left-in">左侧入</button>
    <button id="right-in">右侧入</button>
    <button id="left-out">左侧出</button>
    <button id="right-out">右侧出</button>
    <div id="queue">

    </div>

    <script type="text/javascript">
        var counts = [10,3,7,12,11,30];
        var $ = function(id){
            return document.getElementById(id);
        };
        function addHandler(ele,type,handler){
            if(ele.addEventListener){
                ele.addEventListener(type,handler);
            }else if(ele.attachEvent){
                ele.attachEvent('on'+type,handler);
            }else{
                ele['on'+type] = handler;
            }
        }
        function renderQueue(){
            var str = '';
            for(var i=0;i<counts.length;i++){
                str += '<div class="num">' + counts[i] + '</div>'
            }
            $('queue').innerHTML = str;
        }
        function leftI(){
            var inputNum =$('text-input').value;
            if(inputNum == null){
                alert('输入的数字不能为空')
            }else if(isNaN(inputNum)){
                alert('请输入合法的数字');
            }else{
                counts.unshift(inputNum);
            }
            renderQueue();
        }
        function leftO(){
            var item = counts.shift();
            alert(item);
            renderQueue();
        }
        function rightI(){
            var inputNum =$('text-input').value;
            if(inputNum == null){
                alert('输入的数字不能为空')
            }else if(isNaN(inputNum)){
                alert('请输入合法的数字');
            }else{
                counts.push(inputNum);
            }
            renderQueue();
        }
        function rightO(){
            var item = counts.pop();
            alert(item);
            renderQueue();
        }
        function init(){
            renderQueue();
            addHandler($('left-in'),'click',leftI);
            addHandler($('right-in'),'click',rightI);
            addHandler($('left-out'),'click',leftO);
            addHandler($('right-out'),'click',rightO);
        }

        init();

    </script>
</body>
</html>